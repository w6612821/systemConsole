{"ast":null,"code":"import axios from 'axios';\nvar service = axios.create({\n  baseURL: \"/hd\",\n  //所有的请求都会 带上 /api\n  \"content-type\": \"application/json\",\n  timeout: 5000\n}); // //请求拦截器\n\nservice.interceptors.request.use(config => {\n  if (sessionStorage.getItem(\"token\")) {\n    config.headers[\"token\"] = sessionStorage.getItem(\"token\");\n  }\n\n  return config;\n}); // //响应拦截器\n\nservice.interceptors.response.use(res => {\n  if (res.data.status === -1) {\n    //token验证失败\n    window.location.href = \"/login\";\n  }\n\n  return res.data;\n});\nexport default service;","map":{"version":3,"sources":["D:/systemConsole/src/api/index.js"],"names":["axios","service","create","baseURL","timeout","interceptors","request","use","config","sessionStorage","getItem","headers","response","res","data","status","window","location","href"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAIC,OAAO,GAAGD,KAAK,CAACE,MAAN,CAAa;AACvBC,EAAAA,OAAO,EAAE,KADc;AACN;AACjB,kBAAgB,kBAFO;AAGvBC,EAAAA,OAAO,EAAE;AAHc,CAAb,CAAd,C,CAKA;;AACAH,OAAO,CAACI,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAkCC,MAAD,IAAY;AACzC,MAAIC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAJ,EAAqC;AACjCF,IAAAA,MAAM,CAACG,OAAP,CAAe,OAAf,IAA0BF,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAA1B;AACH;;AACD,SAAOF,MAAP;AACH,CALD,E,CAMA;;AACAP,OAAO,CAACI,YAAR,CAAqBO,QAArB,CAA8BL,GAA9B,CAAmCM,GAAD,IAAS;AACvC,MAAIA,GAAG,CAACC,IAAJ,CAASC,MAAT,KAAoB,CAAC,CAAzB,EAA4B;AAAC;AACzBC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACH;;AACD,SAAOL,GAAG,CAACC,IAAX;AACH,CALD;AAOA,eAAeb,OAAf","sourcesContent":["import axios from 'axios';\r\n\r\nvar service = axios.create({\r\n    baseURL: \"/hd\",  //所有的请求都会 带上 /api\r\n    \"content-type\": \"application/json\",\r\n    timeout: 5000\r\n})\r\n// //请求拦截器\r\nservice.interceptors.request.use((config) => {\r\n    if (sessionStorage.getItem(\"token\")) {\r\n        config.headers[\"token\"] = sessionStorage.getItem(\"token\")\r\n    }\r\n    return config;\r\n})\r\n// //响应拦截器\r\nservice.interceptors.response.use((res) => {\r\n    if (res.data.status === -1) {//token验证失败\r\n        window.location.href = \"/login\"\r\n    }\r\n    return res.data\r\n})\r\n\r\nexport default service;"]},"metadata":{},"sourceType":"module"}